# æ©Ÿèƒ½è©³ç´°ä»•æ§˜æ›¸

## 1. é®«ã‚·ã‚¹ãƒ†ãƒ 

### 1.1 åŸºæœ¬ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

```javascript
class Shark {
  x, y              // ä½ç½®åº§æ¨™
  size              // ã‚µã‚¤ã‚ºï¼ˆåŸºæœ¬50pxï¼‰
  angle             // å‘ã„ã¦ã„ã‚‹è§’åº¦
  personality       // æ€§æ ¼ ('clumsy', 'greedy', 'shy')
  baseSpeed         // åŸºæœ¬é€Ÿåº¦
  speed             // ç¾åœ¨ã®é€Ÿåº¦
}
```

### 1.2 æ€§æ ¼åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

#### ãŠã£ã¡ã‚‡ã“ã¡ã‚‡ã„ (clumsy)
- **è‰²**: ãƒ”ãƒ³ã‚¯ç³» (#FFB6C1)
- **åŸºæœ¬é€Ÿåº¦**: 1.2
- **ç‰¹å¾´**:
  - 3%ã®ç¢ºç‡ã§ãƒ©ãƒ³ãƒ€ãƒ ã«æ–¹å‘è»¢æ›ï¼ˆæ··ä¹±ã‚¿ã‚¤ãƒãƒ¼30ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰
  - é¤Œã‚’é£Ÿã¹ã‚‹åˆ¤å®šç¯„å›²: `size * 0.3`ï¼ˆæœ€å°ï¼‰
  - æµ®ã‹ã¶é¤Œã‚’350pxç¯„å›²å†…ã§å„ªå…ˆ
  - å¥½ã¿ã®é¤Œã«å¯¾ã—ã¦é€Ÿåº¦2.2å€

#### ã‚ˆãã°ã‚Š (greedy)
- **è‰²**: ã‚ªãƒ¬ãƒ³ã‚¸ç³» (#FFA07A)
- **åŸºæœ¬é€Ÿåº¦**: 2.5ï¼ˆæœ€é€Ÿï¼‰
- **ç‰¹å¾´**:
  - é¤Œã®æ¢çŸ¥ç¯„å›²: 500pxï¼ˆæœ€å¤§ï¼‰
  - é¤Œã‚’é£Ÿã¹ã‚‹åˆ¤å®šç¯„å›²: `size * 0.8`ï¼ˆæœ€å¤§ï¼‰
  - å…¨ã¦ã®é¤Œã‚’å¹³ç­‰ã«è¿½ã„ã‹ã‘ã‚‹
  - æº€è…¹ã«ãªã‚Šã‚„ã™ã„

#### ãŠãã³ã‚‡ã† (shy)
- **è‰²**: è–„é’ç³» (#ADD8E6)
- **åŸºæœ¬é€Ÿåº¦**: 1.5
- **ç‰¹å¾´**:
  - ä»–ã®é®«ãŒ120pxä»¥å†…ã«è¿‘ã¥ãã¨é€ƒã’ã‚‹ï¼ˆé€Ÿåº¦1.8å€ï¼‰
  - é¤Œã«è¿‘ã¥ãæ™‚30%ã®ç¢ºç‡ã§èºŠèº‡ï¼ˆé€Ÿåº¦0.5å€ï¼‰
  - ã‚†ã£ãã‚Šæ²ˆã‚€é¤Œã‚’400pxç¯„å›²å†…ã§å„ªå…ˆ
  - å¥½ã¿ã®é¤Œã«å¯¾ã—ã¦é€Ÿåº¦2.2å€

### 1.3 æº€è…¹ã‚·ã‚¹ãƒ†ãƒ 

#### ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶
- 30ç§’ä»¥å†…ã«20å€‹ã®é¤Œã‚’é£Ÿã¹ã‚‹

#### æº€è…¹çŠ¶æ…‹ã®åŠ¹æœ
- ã‚µã‚¤ã‚ºãŒ1.5å€ã«æ‹¡å¤§
- ä½“ãŒä¸¸ãå¤ªã‚‹ï¼ˆ`ellipse(0, 0, size * 0.9, size * 0.7)`ï¼‰
- å®Œå…¨ã«å‹•ã‘ãªããªã‚‹ï¼ˆ`update()`ãŒæ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ï¼‰
- é¤ŒãŒé£Ÿã¹ã‚‰ã‚Œãªã„
- "Zzz"ãƒãƒ¼ã‚¯è¡¨ç¤º
- çœ ã£ã¦ã„ã‚‹å£ã®è¡¨æƒ…

#### å›å¾©
- 60ç§’ï¼ˆ3600ãƒ•ãƒ¬ãƒ¼ãƒ  at 60fpsï¼‰å¾Œã«è‡ªå‹•å›å¾©
- âœ¨ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¡¨ç¤º
- é€šå¸¸ã‚µã‚¤ã‚ºã«æˆ»ã‚‹

### 1.4 ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

- **å°»å°¾**: `Math.sin(tailAngle) * 15` ã§æ³¢æ‰“ã¤
- **ç¬ã**: 2%ã®ç¢ºç‡ã§ `eyeScale = 0.1`
- **å›è»¢**: ç›®æ¨™è§’åº¦ã«å‘ã‹ã£ã¦5%ãšã¤è£œé–“

## 2. é¤Œã‚·ã‚¹ãƒ†ãƒ 

### 2.1 é¤Œã®ç¨®é¡

#### é€šå¸¸ã®é¤Œ (normal)
- **è‰²**: ã‚ªãƒ¬ãƒ³ã‚¸ (#FFB347)
- **é‡åŠ›**: 0.3
- **æœ€å¤§é€Ÿåº¦**: 5
- **ç‰¹å¾´**: é€šå¸¸ã®é€Ÿåº¦ã§æ²ˆã‚€

#### ã‚†ã£ãã‚Šæ²ˆã‚€é¤Œ (slow)
- **è‰²**: é’ç·‘ (#98D8C8)
- **é‡åŠ›**: 0.08
- **æœ€å¤§é€Ÿåº¦**: 1.5
- **ç‰¹å¾´**: ã‚†ã£ãã‚Šæ²ˆã‚€ã€è‡†ç—…ãªé®«ãŒå¥½ã‚€

#### æµ®ã‹ã¶é¤Œ (floating)
- **è‰²**: ã‚¯ãƒªãƒ¼ãƒ  (#FFE4B5)
- **é‡åŠ›**: -0.15ï¼ˆè² ã®é‡åŠ›ã§æµ®ãï¼‰
- **æœ€å¤§é€Ÿåº¦**: 2.5
- **åˆæœŸé€Ÿåº¦**: -1
- **ç‰¹å¾´**:
  - ç›®æ¨™é«˜ã•ï¼ˆ50-150pxï¼‰ã¾ã§æµ®ä¸Š
  - æ°´å¹³æ–¹å‘ã«ã‚†ã‚‰ã‚†ã‚‰æºã‚Œã‚‹
  - å°ã•ãªæ³¡ãƒãƒ¼ã‚¯ä»˜ã

### 2.2 é¤Œã®ç”Ÿæˆ

- ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ—æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ã«3ç¨®é¡ã‹ã‚‰é¸æŠ
- ç¢ºç‡: å„1/3

## 3. UIã‚·ã‚¹ãƒ†ãƒ 

### 3.1 è¡¨ç¤ºè¦ç´ 

- **æº€è…¹åº¦**: å…¨ä½“ã®æº€è…¹åº¦ï¼ˆ0-100%ï¼‰
- **é¤Œã‚’ã‚ã’ãŸå›æ•°**: ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼
- **ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³**: å³ä¸Šã«é…ç½®
- **èª¬æ˜æ–‡**: ç”»é¢ä¸‹éƒ¨

### 3.2 ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½

ãƒªã‚»ãƒƒãƒˆæ™‚ã«åˆæœŸåŒ–ã•ã‚Œã‚‹è¦ç´ :
- é®«ã®ä½ç½®ã‚’åˆæœŸä½ç½®ã«æˆ»ã™
- å…¨ã¦ã®é¤Œã‚’å‰Šé™¤
- ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’ã‚¯ãƒªã‚¢
- æ³¡ã‚’å†ç”Ÿæˆ
- æº€è…¹åº¦ã‚’100%ã«
- é¤Œã‚«ã‚¦ãƒ³ãƒˆã‚’0ã«

## 4. ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

### 4.1 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚¿ã‚¤ãƒ—

- **ğŸ’š**: é¤Œã‚’é£Ÿã¹ãŸæ™‚ï¼ˆ5å€‹ï¼‰
- **ğŸ’™**: é®«ãŒå–œã‚“ã æ™‚ï¼ˆ3å€‹ï¼‰
- **ğŸŸ**: é¤Œã‚’é…ç½®ã—ãŸæ™‚ï¼ˆ3å€‹ï¼‰
- **ğŸ’¤**: æº€è…¹ã«ãªã£ãŸæ™‚ï¼ˆ8å€‹ï¼‰
- **âœ¨**: å›å¾©ã—ãŸæ™‚ï¼ˆ5å€‹ï¼‰

### 4.2 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«å‹•ä½œ

- åˆé€Ÿ: ãƒ©ãƒ³ãƒ€ãƒ ãªæ–¹å‘ã«æ”¾å‡º
- é‡åŠ›: 0.1
- å¯¿å‘½: 60ãƒ•ãƒ¬ãƒ¼ãƒ 
- ã‚¢ãƒ«ãƒ•ã‚¡å€¤: å¯¿å‘½ã«å¿œã˜ã¦æ¸›å°‘

## 5. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

### 5.1 Canvas

- å†…éƒ¨ã‚µã‚¤ã‚º: 800x600ï¼ˆå›ºå®šï¼‰
- è¡¨ç¤ºã‚µã‚¤ã‚º: CSSã§è‡ªå‹•èª¿æ•´
- æœ€å¤§å¹…: 95vw
- æœ€å¤§é«˜ã•: 85vh

### 5.2 UIè¦ç´ 

#### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—
- ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: 16px
- ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³: padding 10px 20px

#### ã‚¹ãƒãƒ› (max-width: 600px)
- ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: 14px
- ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³: padding 8px 15px
- ã‚¿ã‚¤ãƒˆãƒ«: 24px

### 5.3 ã‚¿ãƒƒãƒã‚¤ãƒ™ãƒ³ãƒˆ

- `touchstart`ã‚¤ãƒ™ãƒ³ãƒˆã§ã‚¿ãƒƒãƒ—å¯¾å¿œ
- åº§æ¨™å¤‰æ›: Canvasåº§æ¨™ã«ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´

## 6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—: requestAnimationFrameï¼ˆç´„60fpsï¼‰
- æ³¡ã®æ•°: 20å€‹
- æœ€å¤§é£Ÿã¹ãŸé¤Œã®å±¥æ­´: 30ç§’åˆ†

## 7. æŠ€è¡“çš„ãªå®Ÿè£…è©³ç´°

### 7.1 é¤Œã®å„ªå…ˆé †ä½ã‚·ã‚¹ãƒ†ãƒ 

```javascript
// å¥½ã¿ã®é¤Œã‚’å„ªå…ˆçš„ã«æ¢ç´¢
if (personality === 'shy' && food.type === 'slow') {
  isPreferred = true;
  preferredRange = 400;
}
```

### 7.2 æº€è…¹åˆ¤å®š

```javascript
// 30ç§’ä»¥å†…ã®é¤Œã‚’è¨˜éŒ²
this.recentEats.push(currentTime);
this.recentEats = this.recentEats.filter(time => currentTime - time < 30000);

// 20å€‹ä»¥ä¸Šã§æº€è…¹
if (this.recentEats.length >= 20) {
  this.isStuffed = true;
  this.stuffedTimer = 3600; // 60ç§’
}
```

### 7.3 åº§æ¨™å¤‰æ›

```javascript
function getCanvasCoordinates(clientX, clientY) {
  const rect = canvas.getBoundingClientRect();
  const scaleX = canvas.width / rect.width;
  const scaleY = canvas.height / rect.height;
  return {
    x: (clientX - rect.left) * scaleX,
    y: (clientY - rect.top) * scaleY
  };
}
```

## 8. ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹

### 8.1 æ¨å¥¨ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«

- ãŠã£ã¡ã‚‡ã“ã¡ã‚‡ã„ã«ã¯æµ®ã‹ã¶é¤Œã‚’å¤šã‚ã«
- ã‚ˆãã°ã‚Šã«ã¯é¤Œã‚’ã‚ã’ã™ããªã„ï¼ˆã™ãæº€è…¹ã«ãªã‚‹ï¼‰
- ãŠãã³ã‚‡ã†ã«ã¯ã‚†ã£ãã‚Šæ²ˆã‚€é¤Œã‚’ç‹™ã£ã¦é…ç½®

### 8.2 æº€è…¹ã¾ã§ã®ç›®å®‰

- ã‚ˆãã°ã‚Š: ç´„15ç§’ï¼ˆæœ€é€Ÿï¼‰
- ãŠãã³ã‚‡ã†ï¼ˆå¥½ã¿ã®é¤Œï¼‰: ç´„20ç§’
- ãŠã£ã¡ã‚‡ã“ã¡ã‚‡ã„: æº€è…¹ã«ãªã‚Šã«ãã„ï¼ˆ30ç§’ä»¥ä¸Šï¼‰
